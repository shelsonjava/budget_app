{"ast":null,"code":"var _jsxFileName = \"/Users/commmpotte/FrontEnd/Extra_Learning/ibm/ejtos-react_budget_app/src/context/AppContext.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useReducer } from 'react'; // 5. The reducer - this is used to update the state, based on the action\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppReducer = (state, action) => {\n  let budget = 0;\n\n  switch (action.type) {\n    case 'ADD_EXPENSE':\n      let total_budget = 0;\n      total_budget = state.expenses.reduce((previousExp, currentExp) => {\n        return previousExp + currentExp.cost;\n      }, 0);\n      total_budget = total_budget + action.payload.cost;\n      action.type = 'DONE';\n\n      if (total_budget <= state.budget) {\n        total_budget = 0;\n        state.expenses.map(currentExp => {\n          if (currentExp.name === action.payload.name) {\n            currentExp.cost = action.payload.cost + currentExp.cost;\n          }\n\n          return currentExp;\n        });\n        return { ...state\n        };\n      } else {\n        alert('Cannot increase the allocation! Out of funds');\n        return { ...state\n        };\n      }\n\n    case 'RED_EXPENSE':\n      const red_expenses = state.expenses.map(currentExp => {\n        if (currentExp.name === action.payload.name && currentExp.cost - action.payload.cost >= 0) {\n          currentExp.cost = currentExp.cost - action.payload.cost;\n          budget = state.budget + action.payload.cost;\n        }\n\n        return currentExp;\n      });\n      action.type = 'DONE';\n      return { ...state,\n        expenses: [...red_expenses]\n      };\n\n    case 'DELETE_EXPENSE':\n      action.type = 'DONE';\n      state.expenses.map(currentExp => {\n        if (currentExp.name === action.payload) {\n          budget = state.budget + currentExp.cost;\n          currentExp.cost = 0;\n        }\n\n        return currentExp;\n      });\n      action.type = 'DONE';\n      return { ...state,\n        budget\n      };\n\n    case 'SET_BUDGET':\n      action.type = 'DONE';\n      state.budget = action.payload;\n      return { ...state\n      };\n\n    case 'CHG_CURRENCY':\n      action.type = 'DONE';\n      state.currency = action.payload;\n      return { ...state\n      };\n\n    default:\n      return state;\n  }\n}; // 1. Sets the initial state when the app loads\n\n_c = AppReducer;\nconst initialState = {\n  budget: 2000,\n  expenses: [{\n    id: 'Marketing',\n    name: 'Marketing',\n    cost: 50\n  }, {\n    id: 'Finance',\n    name: 'Finance',\n    cost: 300\n  }, {\n    id: 'Sales',\n    name: 'Sales',\n    cost: 70\n  }, {\n    id: 'HR',\n    name: 'Human Resource',\n    cost: 40\n  }, {\n    id: 'IT',\n    name: 'IT',\n    cost: 500\n  }],\n  currency: '£'\n}; // 2. Creates the context this is the thing our components import and use to get the state\n\nexport const AppContext = /*#__PURE__*/createContext(); // 3. Provider component - wraps the components we want to give access to the state\n// Accepts the children, which are the nested(wrapped) components\n\nexport const AppProvider = props => {\n  _s();\n\n  // 4. Sets up the app state. takes a reducer, and an initial state\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n  let remaining = 0;\n\n  if (state.expenses) {\n    const totalExpenses = state.expenses.reduce((total, item) => {\n      return total = total + item.cost;\n    }, 0);\n    remaining = state.budget - totalExpenses;\n  }\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      expenses: state.expenses,\n      budget: state.budget,\n      remaining: remaining,\n      dispatch,\n      currency: state.currency\n    },\n    children: [props.children, ' ']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AppProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c2 = AppProvider;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AppReducer\");\n$RefreshReg$(_c2, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useReducer","AppReducer","state","action","budget","type","total_budget","expenses","reduce","previousExp","currentExp","cost","payload","map","name","alert","red_expenses","currency","initialState","id","AppContext","AppProvider","props","dispatch","remaining","totalExpenses","total","item","children"],"sources":["/Users/commmpotte/FrontEnd/Extra_Learning/ibm/ejtos-react_budget_app/src/context/AppContext.jsx"],"sourcesContent":["import React, { createContext, useReducer } from 'react'\n\n// 5. The reducer - this is used to update the state, based on the action\nexport const AppReducer = (state, action) => {\n  let budget = 0\n  switch (action.type) {\n    case 'ADD_EXPENSE':\n      let total_budget = 0\n      total_budget = state.expenses.reduce((previousExp, currentExp) => {\n        return previousExp + currentExp.cost\n      }, 0)\n      total_budget = total_budget + action.payload.cost\n      action.type = 'DONE'\n      if (total_budget <= state.budget) {\n        total_budget = 0\n        state.expenses.map((currentExp) => {\n          if (currentExp.name === action.payload.name) {\n            currentExp.cost = action.payload.cost + currentExp.cost\n          }\n          return currentExp\n        })\n        return {\n          ...state,\n        }\n      } else {\n        alert('Cannot increase the allocation! Out of funds')\n        return {\n          ...state,\n        }\n      }\n    case 'RED_EXPENSE':\n      const red_expenses = state.expenses.map((currentExp) => {\n        if (\n          currentExp.name === action.payload.name &&\n          currentExp.cost - action.payload.cost >= 0\n        ) {\n          currentExp.cost = currentExp.cost - action.payload.cost\n          budget = state.budget + action.payload.cost\n        }\n        return currentExp\n      })\n      action.type = 'DONE'\n      return {\n        ...state,\n        expenses: [...red_expenses],\n      }\n    case 'DELETE_EXPENSE':\n      action.type = 'DONE'\n      state.expenses.map((currentExp) => {\n        if (currentExp.name === action.payload) {\n          budget = state.budget + currentExp.cost\n          currentExp.cost = 0\n        }\n        return currentExp\n      })\n      action.type = 'DONE'\n      return {\n        ...state,\n        budget,\n      }\n    case 'SET_BUDGET':\n      action.type = 'DONE'\n      state.budget = action.payload\n\n      return {\n        ...state,\n      }\n    case 'CHG_CURRENCY':\n      action.type = 'DONE'\n      state.currency = action.payload\n      return {\n        ...state,\n      }\n\n    default:\n      return state\n  }\n}\n\n// 1. Sets the initial state when the app loads\nconst initialState = {\n  budget: 2000,\n  expenses: [\n    {\n      id: 'Marketing',\n      name: 'Marketing',\n      cost: 50,\n    },\n    {\n      id: 'Finance',\n      name: 'Finance',\n      cost: 300,\n    },\n    {\n      id: 'Sales',\n      name: 'Sales',\n      cost: 70,\n    },\n    {\n      id: 'HR',\n      name: 'Human Resource',\n      cost: 40,\n    },\n    {\n      id: 'IT',\n      name: 'IT',\n      cost: 500,\n    },\n  ],\n  currency: '£',\n}\n\n// 2. Creates the context this is the thing our components import and use to get the state\nexport const AppContext = createContext()\n\n// 3. Provider component - wraps the components we want to give access to the state\n// Accepts the children, which are the nested(wrapped) components\nexport const AppProvider = (props) => {\n  // 4. Sets up the app state. takes a reducer, and an initial state\n  const [state, dispatch] = useReducer(AppReducer, initialState)\n  let remaining = 0\n\n  if (state.expenses) {\n    const totalExpenses = state.expenses.reduce((total, item) => {\n      return (total = total + item.cost)\n    }, 0)\n    remaining = state.budget - totalExpenses\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        expenses: state.expenses,\n        budget: state.budget,\n        remaining: remaining,\n        dispatch,\n        currency: state.currency,\n      }}\n    >\n      {props.children}{' '}\n    </AppContext.Provider>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}